
# Compose fMRI data
mkdir ./input/fMRI
mv ./input/fMRI_train/* ./input/fMRI
mv ./input/fMRI_test/* ./input/fMRI

# preprocess
docker run --rm -it \
    -v $PWD/:/root/workdir/ \
    -v $HOME/.config/:/root/.config \
    -v $HOME/.netrc/:/root/.netrc \
    -v $HOME/.cache/:/root/.cache \
    --shm-size=64gb \
    --runtime=nvidia \
    --ipc=host \
    --security-opt seccomp=unconfined \
    --network none \
    kaggle/pytorch:trends \
    python scripts/make_voxel_stats.py

docker run --rm -it \
    -v $PWD/:/root/workdir/ \
    -v $HOME/.config/:/root/.config \
    -v $HOME/.netrc/:/root/.netrc \
    -v $HOME/.cache/:/root/.cache \
    --shm-size=64gb \
    --runtime=nvidia \
    --ipc=host \
    --security-opt seccomp=unconfined \
    --network none \
    kaggle/pytorch:trends \
    python scripts/make_fnc_matrix.py